
<div class="details-header">
    <h2>DETAILS FOR DEPARTMENT {{ dept.departmentId }}</h2>

    <h3>Department ID {{ dept.departmentId }}: {{ dept.departmentName }}</h3>
</div>



@if (dept.employees.length > 0) {
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Age</th>
                <th>Detail ID</th>
                <th>Detail</th>
                <th>Cert Count</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let emp of dept.employees; let i = index" [ngClass]="{ 'darkGray': i % 2 === 0, 'lightGray': i % 2 === 1 }">
                <td class="centered">{{ emp.employeeId }}</td>
                <td>{{ emp.employeeFirstname }} {{ emp.employeeLastname }}</td>
                <td class="centered">{{ emp.employeeAge }}</td>
                <td>{{ emp.detail?.detailId }}</td>
                <td>{{ emp.detail?.detailText }}</td>
                <td class="centered">{{ emp.certifications.length }}</td>
            </tr>
        </tbody>
    </table>
} @else {
    <p>This department has no employees.</p>
}

<div class="form-container">
    <div class="form">
        <h3>Add Employee</h3>
        <form (submit)="addEmployee()">
            <label for="employeeId">Employee ID:</label>
            <input type="number" id="employeeId" [(ngModel)]="newEmployee.employeeId" name="employeeId" required>

            <label for="firstName">First Name:</label>
            <input id="firstName" [(ngModel)]="newEmployee.employeeFirstname" name="firstName" required>

            <label for="lastName">Last Name:</label>
            <input id="lastName" [(ngModel)]="newEmployee.employeeLastname" name="lastName" required>

            <label for="employeeAge">Employee Age:</label>
            <input type="number" id="employeeAge" [(ngModel)]="newEmployee.employeeAge" name="employeeAge" required>

            <label for="detailId">Detail ID:</label>
            <input type="number" id="detailId" [(ngModel)]="newEmployee.detail!.detailId" name="detailId" required>

            <button type="submit">Add Employee</button>
        </form>
    </div>

    <div class="form">
        <h3>Update This Department</h3>
        <form (submit)="updateDepartment()">
            <label for="updateId">Department ID:</label>
            <input type="number" id="updateId" name="updateId" [(ngModel)]="updatedDepartment.departmentId">

            <label for="updateName">Department Name:</label>
            <input type="text" id="updateName" name="updateName" [(ngModel)]="updatedDepartment.departmentName">

            <button type="submit">UPDATE</button>
        </form>
    </div>

    <div class="form">
        <h3>Remove Employee</h3>
        <form (submit)="removeEmployee(removeEmployeeId)">
            <label for="removeEmployeeId">Employee ID to Remove:</label>
            <input type="number" id="removeEmployeeId" [(ngModel)]="removeEmployeeId" name="removeEmployeeId" required>
            <button type="submit">Remove Employee</button>
        </form>
    </div>
</div>
